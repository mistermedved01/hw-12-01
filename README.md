# Домашнее задание к занятию "`Базы данных, их типы`" - `Потапов Василий`

### Задание 1. СУБД
### Кейс

`Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.`

`Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?`

`1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.`

Ответ 1.1

Реляционная СУБД. Суть реляционных баз в хранении данных в связанных таблицах. За годы существования на рынке она успела доказать свою эффективность, надежность, гарантируя высокую защиту информации от утраты. Наряду с жесткими требованиями к формированию данных и их обработки, SQL может быть наделена и гибкостью. Но обеспечить это свойство сможет только профессиональный подход и дополнительные усилия.
Среди особенностей реляционных БД стоит выделить два основных момента:
1. Целостность сведений. Информация, которая помещается в данную систему отличается повышенной точностью, однообразностью и максимальной полнотой. Целостность SQL поддерживается специальными инструментами: внешние и первичные ключи, ограничители и пр.
2. Транзакции. В базе данных под этим термином подразумевают упорядоченную последовательность действий операторов, обрабатывающих информацию, направленную на переведение БД из одного состояния в другое. Реляционные базы данных – это цепочка последовательных операций, работающих над решением одной задачи. Все эти операторы должны выполняться одновременно и работать как единая система.

Наиболее известными реляционными базами данных являются Open Source проекты PostgreSQL, MySQL и SQLite, а также проприетарные решения Oracle, Microsoft SQL Server и IBM Db2Relational.

`1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.`

Ответ 1.2

Для данного сценария, где данные по лидам с лендингов стекаются в CRM, а предполагается, что СУБД должны быть гибкими и быстрыми, предлагаю использовать комбинацию реляционной СУБД и NoSQL СУБД:
1. Реляционная СУБД для CRM: Реляционная СУБД, такая как PostgreSQL или MySQL, может быть использована для хранения данных CRM. Она предоставляет структурированное хранение данных с поддержкой транзакций и мощным SQL для обработки и извлечения информации. Реляционная СУБД обеспечивает надежность и целостность данных, что важно для CRM.
2. NoSQL СУБД для лендингов: Для хранения данных с лендингов, где требуется гибкость и быстродействие, рекомендуется использовать NoSQL СУБД, такую как MongoDB или Cassandra. NoSQL СУБД позволяют эффективно хранить неструктурированные данные, такие как формы с лендингов, и обрабатывать большие объемы данных с высокой производительностью.

Использование комбинации реляционной и NoSQL СУБД позволяет оптимизировать производительность и гибкость хранения данных для каждой конкретной задачи. Кроме того, данные с лендингов могут быть синхронизированы в реляционную СУБД CRM для дальнейшей обработки и анализа менеджерами по продажам и маркетологами.

`1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.`

Ответ 1.3

1. SQLite является легковесной и встроенной реляционной СУБД. Она не требует установки сервера баз данных и может быть использована в небольших проектах, таких как приложения настольного компьютера или мобильные приложения. SQLite базируется на файловой системе и хранит базу данных в одном файле. Его простота и понятность делают его идеальным выбором для маленьких проектов.

2. Microsoft Access – это реляционная СУБД, которая поставляется вместе с пакетом Microsoft Office. Он предоставляет простой и интуитивно понятный интерфейс для работы с данными. Access также включает в себя инструменты для создания форм, отчетов и запросов без написания SQL-кода. Он хорошо подходит для небольших проектов и легко интегрируется со всеми остальными приложениями Microsoft Office.

3. MySQL является одной из самых популярных реляционных СУБД в мире, но в то же время она имеет простую структуру и легкую в использовании. Его синтаксис SQL легок в освоении, а мощность и гибкость делают его идеальным для проектов любого размера. MySQL поддерживает большое количество драйверов и инструментов для интеграции с различными платформами и языками программирования.

4. PostgreSQL – это мощная реляционная СУБД с открытым исходным кодом. Он предоставляет богатые функции и гибкость, а его структура базы данных легко понимается. PostgreSQL поддерживает расширяемые типы данных, хранимые процедуры и триггеры, что делает его идеальным выбором для сложных проектов. Он также имеет удобный интерфейс командной строки и встроенные инструменты администрирования.

`1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.`

Ответ 1.4

Для решения задач по быстрому формированию маршрутов доставки и распределению курьеров с использованием СУБД, рекомендуется рассмотреть следующие варианты:

1. PostgreSQL обладает мощными возможностями работы с географическими данными, что позволяет эффективно работать с маршрутами доставки. Он поддерживает пространственные типы данных и индексы, что ускоряет выполнение запросов, связанных с маршрутами и расстояниями. Кроме того, PostgreSQL имеет богатый набор функций и инструментов для работы с данными и оптимизации запросов.

2. Neo4j является графовой СУБД, которая специализируется на эффективной работе со связями между данными. Она идеально подходит для моделирования сетей доставки и маршрутов. В Neo4j данные хранятся в виде узлов и связей между ними, что позволяет быстро находить оптимальные маршруты доставки и оптимизировать распределение курьеров. Кроме того, Neo4j имеет набор инструментов для анализа графовых данных.

3. MongoDB – это документоориентированная СУБД, которая может быть эффективно использована для хранения и обработки данных о маршрутах доставки и распределении курьеров. В MongoDB данные хранятся в виде документов в формате JSON, что позволяет легко представлять и обрабатывать связи между объектами. MongoDB также обладает мощным механизмом запросов и гибкими возможностями индексации для оптимизации работы с данными.

### Задание 2. Транзакции

`2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.`

Ответ 2.1

Для того, чтобы транзакция пополнения баланса счета телефона завершилась успешно, необходимо выполнить следующие шаги:

1. Начать транзакцию: Система должна начать транзакцию, объявив, что все последующие операции относятся к текущей транзакции.

2. Проверить счет: Система должна проверить состояние счета телефона перед пополнением баланса. Это может включать проверку текущего баланса, доступных лимитов или ограничений счета.

3. Выполнить операцию пополнения: Система должна выполнить операцию пополнения баланса счета телефона на указанную сумму. Это может включать добавление денежных средств на счет или обновление значения баланса.

4. Сохранить изменения: После успешного выполнения операции пополнения, система должна сохранить изменения в базе данных. Это гарантирует, что внесенные изменения станут постоянными и будут доступны для будущих операций.

5. Подтвердить транзакцию: Если все предыдущие шаги выполнены успешно и нет ошибок, система должна подтвердить транзакцию. Это означает, что все изменения, внесенные в рамках транзакции, станут окончательными и будут сохранены в базе данных.

6. Завершить транзакцию: Транзакция завершается после ее подтверждения. В этом случае система освобождает все заблокированные ресурсы и закрывает транзакцию.

Если происходит какая-либо ошибка в любом из шагов, система должна откатить транзакцию и вернуться к исходному состоянию (например, отменить операцию пополнения баланса). Это помогает гарантировать целостность данных и сохраняет аккаунт в согласованном состоянии.

### Задание 3. SQL vs NoSQL

`3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.`

`3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.`

Ответ 3.1

1. Сложные запросы: SQL-системы отлично подходят для выполнения сложных и структурированных запросов, таких как объединения, агрегатные функции и связи между таблицами. Они имеют более мощный и гибкий язык запросов, что делает их предпочтительными для работы с данными, требующими сложных операций.

2. Гарантия целостности данных: SQL-системы предоставляют механизмы для поддержки целостности данных, включая ограничения целостности, транзакции и механизмы защиты от сбоев. Они обеспечивают надежность и согласованность данных.

3. Легче анализировать данные: SQL-системы обладают богатым инструментарием для анализа данных, таких как функции агрегации, сортировка, фильтрация и группировка. Это делает SQL-системы идеальными для выполнения сложных аналитических запросов и создания отчетов.

4. Гибкость модели данных: SQL-системы поддерживают структурированные модели данных, такие как таблицы с определенной схемой, что обеспечивает более строгую организацию данных и их типизацию. Это особенно полезно, когда данные имеют четкие структуры и требуют строгого контроля.

5. Взаимодействие с существующими инструментами: SQL-системы широко распространены и хорошо поддерживаются, что делает их совместимыми с различными инструментами и приложениями. Они имеют большое сообщество пользователей и разработчиков, что обеспечивает доступ к богатому экосистеме инструментов и библиотек.
   
Ответ 3.1*

- Масштабируемость: NewSQL системы компактные и могут успешно масштабироваться как вертикально (повышение производительности на одной машине) так и горизонтально (разделение на несколько серверов). Они способны обрабатывать огромные объемы данных и обеспечивать высокую производительность.

- Совместимость с SQL: NewSQL системы сохраняют совместимость с SQL, т.е. они используют стандартный язык SQL для работы с данными. Это упрощает перенос и миграцию существующих SQL-приложений на новую систему без больших изменений.

- Высокая доступность: NewSQL системы предоставляют механизмы для обеспечения высокой доступности данных, такие как репликация и фрагментация данных. Они гарантируют, что данные доступны даже в случае сбоев или отказов в системе.

- Гибкость и простота: NewSQL систмы обеспечивают гибкость и простоту в использовании. Они предлагают простой и интуитивно понятный интерфейс для разработчиков, что облегчает работу с данными и ускоряет процесс разработки.

- Обработка больших данных: NewSQL системы способны обрабатывать большие объемы данных и выполнять высокопроизводительные операции над ними. Они предлагают параллельную обработку и оптимизированные алгоритмы, что позволяет эффективно работать даже с огромными наборами данных.

### Задание 4. Кластеры

`Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.`

`На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?`

Ответ 4

При выборе типа СУБД и модели распределенных вычислений для обработки большого количества данных на 1000 машинах, следует рассмотреть следующие критерии:

1. Производительность: Необходимо выбрать СУБД и модель распределенных вычислений, которые обеспечат высокую производительность и масштабируемость при выполнении больших объемов вычислений. Некоторые СУБД и модели распределенных вычислений могут быть оптимизированы для конкретных видов задач, поэтому рекомендуется провести тестирование и выбрать те, которые демонстрируют наилучшие результаты для требуемых операций.

2. Масштабируемость: Важно выбрать СУБД и модель распределенных вычислений, которые могут эффективно масштабироваться на 1000 машин. Некоторые СУБД и модели распределенных вычислений обладают возможностью горизонтального масштабирования, позволяющего добавлять новые узлы и увеличивать общую вычислительную мощность без значительных усилий.

3. Отказоустойчивость: Важно выбрать СУБД и модель распределенных вычислений, которые обеспечат высокую доступность и отказоустойчивость данных. Это может включать функции резервного копирования, репликации данных и автоматического восстановления в случае сбоев или отказов.

4. Сложность разработки: Рекомендуется выбирать СУБД и модель распределенных вычислений, которые облегчают процесс разработки и поддержки. Это может включать инструменты для управления данными, языки запросов, поддержку транзакций и дополнительные функции, упрощающие работу с данными.

С учетом этих критериев, Apache Hadoop и Apache Spark становятся популярными и эффективными выборами для обработки большого количества данных на 1000 машинах.

Apache Hadoop: Эта модель распределенных вычислений основана на MapReduce, что делает ее мощным инструментом для обработки больших объемов данных на кластерах из тысяч узлов. Она обеспечивает масштабируемость, высокую отказоустойчивость и открытость для приложений и инструментов сторонних разработчиков.

Apache Spark: Этот фреймворк распределенных вычислений предоставляет высокую производительность и эффективность обработки данных благодаря in-memory вычислениям. Он имеет широкий набор инструментов и библиотек для анализа данных, машинного обучения и глубокого обучения. Spark также обеспечивает высокую масштабируемость и поддержку отказоустойчивости.

Оба этих инструмента широко используются в крупных кластерах машин и предоставляют гибкую и мощную платформу для обработки больших объемов данных. Выбор между Apache Hadoop и Apache Spark зависит от конкретных требований и характеристик проекта.
